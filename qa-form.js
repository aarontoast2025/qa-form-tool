(function(){if(document.getElementById('qa-modal-overlay'))return;const e=[{id:1,label:"Greeting",reverseButtons:!1},{id:2,label:"Cx's Name",reverseButtons:!1},{id:3,label:"Business Name",reverseButtons:!1},{id:4,label:"Callback",reverseButtons:!1},{id:5,label:"Closing",reverseButtons:!1},{id:6,label:"Poor Listening",reverseButtons:!0},{id:7,label:"Appropriate Tone",reverseButtons:!1},{id:8,label:"Poor Call Control",reverseButtons:!0},{id:9,label:"Empathy",reverseButtons:!1},{id:10,label:"Confirm Solution",reverseButtons:!1}],t={};e.forEach((e=>{t[e.id]={sel:"yes",text:"",checked:!1}}));const o=(e,t)=>{const o=document.createElement(e);return t&&(o.style.cssText=t),o},n=(e,t,o)=>{e.addEventListener(t,o)},s="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.2);display:flex;align-items:flex-start;justify-content:center;z-index:99999;font-family:system-ui,sans-serif;padding-top:20px;overflow-y:auto;pointer-events:none",i="background:white;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.15);width:90%;max-width:500px;height:600px;overflow:hidden;display:flex;flex-direction:column;cursor:grab;user-select:none;margin-bottom:20px;pointer-events:auto",r="padding:20px;border-bottom:1px solid #e0e0e0;font-size:18px;font-weight:600;color:#333;cursor:grab",d="padding:20px;flex:1;color:#666;font-size:14px;line-height:1.6;overflow-y:auto",l="margin-bottom:16px;border:1px solid #e0e0e0;border-radius:4px;overflow:hidden",a="width:100%;padding:12px 16px;background:#f5f5f5;border:none;text-align:left;cursor:pointer;font-weight:500;color:#333;display:flex;justify-content:space-between;align-items:center",c="display:none;padding:16px;border-top:1px solid #e0e0e0;background:#fafafa",p="margin-bottom:12px;display:flex;gap:8px",x="flex:1;padding:10px;border:2px solid #ccc;background:white;color:#333;border-radius:4px;cursor:pointer;font-weight:500;transition:all 0.2s",u="flex:1;padding:10px;border:2px solid #2563eb;background:#2563eb;color:white;border-radius:4px;cursor:pointer;font-weight:500;transition:all 0.2s",b="width:100%;border:1px solid #ccc;border-radius:4px;padding:8px;font-family:inherit;resize:none;height:50px",g="padding:16px;border-top:1px solid #e0e0e0;display:flex;gap:12px;justify-content:flex-end",f="padding:10px 20px;border:1px solid #ccc;background:white;border-radius:4px;cursor:pointer;font-size:14px;color:#333;transition:background 0.2s",y="padding:10px 20px;border:none;background:#2563eb;color:white;border-radius:4px;cursor:pointer;font-size:14px;font-weight:500;transition:background 0.2s",h=o("div");h.id="qa-modal-overlay",h.style.cssText=s;const m=o("div");m.style.cssText=i;let w=!1,C=0,k=0,T=0,B=0;const v=o("div");v.style.cssText=r,v.textContent="QA Form",n(v,"mousedown",(e=>{w=!0,C=e.clientX-T,k=e.clientY-B,v.style.cursor="grabbing"})),n(document,"mousemove",(e=>{w&&(T=e.clientX-C,B=e.clientY-k,m.style.transform=`translate(${T}px,${B}px)`)})),n(document,"mouseup",(()=>{w=!1,v.style.cursor="grab"}));const E=o("div");E.style.cssText=d,e.forEach((e=>{const s=o("div");s.style.cssText=l;const i=o("button");i.style.cssText=a;const r=o("input");r.type="checkbox",r.style.cssText="width:18px;height:18px;cursor:pointer;margin-right:10px",r.id=`cb-${e.id}`,n(r,"change",(o=>{t[e.id].checked=o.target.checked}));const d=o("span");d.textContent=`${e.id}. ${e.label}`,i.innerHTML="";const c=o("div");c.style.cssText="display:flex;align-items:center;flex:1",c.appendChild(r),c.appendChild(d),i.appendChild(c);const p=o("span");p.style.cssText="font-size:12px",p.textContent="▼",i.appendChild(p);let b=!1;const g=o("div");g.style.cssText=c;const f=o("button");f.textContent=e.reverseButtons?"No":"Yes",f.style.cssText=u;const y=o("button");y.textContent=e.reverseButtons?"Yes":"No",y.style.cssText=x;const v=o("div");v.style.cssText=p,v.appendChild(f),v.appendChild(y);const h=o("textarea");h.id=`qa-${e.id}`,h.style.cssText=b,h.placeholder="Enter text";const m=o=>{t[e.id].sel=o,f.style.cssText="yes"===o?u:x,y.style.cssText="no"===o?u:x};n(f,"click",(()=>m("yes"))),n(y,"click",(()=>m("no"))),n(h,"input",(o=>{t[e.id].text=o.target.value})),n(i,"click",(()=>{b=!b,g.style.display=b?"block":"none",i.style.background=b?"#e8e8e8":"#f5f5f5";const o=i.querySelector("span:last-child");o.textContent=b?"▲":"▼"})),g.appendChild(v),g.appendChild(h),s.appendChild(i),s.appendChild(g),E.appendChild(s)}));const q=o("div");q.style.cssText=g;const $=o("button");$.textContent="Cancel",$.style.cssText=f,n($,"mouseenter",(()=>{$.style.background="#f5f5f5"})),n($,"mouseleave",(()=>{$.style.background="white"})),n($,"click",(()=>{h.remove()}));const z=o("button");z.textContent="Generate",z.style.cssText=y,n(z,"mouseenter",(()=>{z.style.background="#1d4ed8"})),n(z,"mouseleave",(()=>{z.style.background="#2563eb"})),n(z,"click",(async()=>{const o=e.filter((e=>t[e.id].checked));const n=o.length>0?o:e;let s=0;const i=async()=>{if(s>=n.length)return alert("✓ Done!"),void h.remove();const o=n[s],r=t[o.id].sel,d=t[o.id].text,l=document.querySelector(`[data-idx="${o.id}"] [data-testid="SegmentedControl"]`);if(l){const e=l.querySelectorAll('button[role="radio"]');"yes"===r&&e[0]?e[0].click():"no"===r&&e[1]&&e[1].click()}await new Promise((e=>setTimeout(e,2500)));const a=document.querySelector(`[data-idx="${o.id}"] textarea`);if(a&&d){const e=Object.getPrototypeOf(a);Object.getOwnPropertyDescriptor(e,"value").set.call(a,d),a.dispatchEvent(new Event("input",{bubbles:!0})),a.dispatchEvent(new Event("change",{bubbles:!0}))}await new Promise((e=>setTimeout(e,500))),s++,i()};i()})),q.appendChild($),q.appendChild(z),m.appendChild(v),m.appendChild(E),m.appendChild(q),h.appendChild(m),document.body.appendChild(h)})();
