(function(){if(document.getElementById('qa-modal-overlay'))return;const e=[{id:1,label:"Greeting",reverseButtons:!1},{id:2,label:"Cx's Name",reverseButtons:!1},{id:3,label:"Business Name",reverseButtons:!1},{id:4,label:"Callback",reverseButtons:!1},{id:5,label:"Closing",reverseButtons:!1},{id:6,label:"Poor Listening",reverseButtons:!0},{id:7,label:"Appropriate Tone",reverseButtons:!1},{id:8,label:"Poor Call Control",reverseButtons:!0},{id:9,label:"Empathy",reverseButtons:!1},{id:10,label:"Confirm Solution",reverseButtons:!1}],t={};e.forEach((e=>{t[e.id]={sel:"yes",text:""}}));const o=(e,t)=>{const o=document.createElement(e);return t&&(o.style.cssText=t),o},n=(e,t,o)=>{e.addEventListener(t,o)},s="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.2);display:flex;align-items:flex-start;justify-content:center;z-index:99999;font-family:system-ui,sans-serif;padding-top:20px;overflow-y:auto;pointer-events:none",i="background:white;border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,0.15);width:90%;max-width:500px;height:600px;overflow:hidden;display:flex;flex-direction:column;cursor:grab;user-select:none;margin-bottom:20px;pointer-events:auto",r="padding:20px;border-bottom:1px solid #e0e0e0;font-size:18px;font-weight:600;color:#333;cursor:grab",d="padding:20px;flex:1;color:#666;font-size:14px;line-height:1.6;overflow-y:auto",l="margin-bottom:16px;border:1px solid #e0e0e0;border-radius:4px;overflow:hidden",a="width:100%;padding:12px 16px;background:#f5f5f5;border:none;text-align:left;cursor:pointer;font-weight:500;color:#333;display:flex;justify-content:space-between;align-items:center",c="display:none;padding:16px;border-top:1px solid #e0e0e0;background:#fafafa",p="margin-bottom:12px;display:flex;gap:8px",x="flex:1;padding:10px;border:2px solid #ccc;background:white;color:#333;border-radius:4px;cursor:pointer;font-weight:500;transition:all 0.2s",u="flex:1;padding:10px;border:2px solid #2563eb;background:#2563eb;color:white;border-radius:4px;cursor:pointer;font-weight:500;transition:all 0.2s",b="width:100%;border:1px solid #ccc;border-radius:4px;padding:8px;font-family:inherit;resize:none;height:50px",g="padding:16px;border-top:1px solid #e0e0e0;display:flex;gap:12px;justify-content:flex-end",f="padding:10px 20px;border:1px solid #ccc;background:white;border-radius:4px;cursor:pointer;font-size:14px;color:#333;transition:background 0.2s",y="padding:10px 20px;border:none;background:#2563eb;color:white;border-radius:4px;cursor:pointer;font-size:14px;font-weight:500;transition:background 0.2s",h=o("div");h.id="qa-modal-overlay",h.style.cssText=s;const m=o("div");m.style.cssText=i;let w=!1,C=0,k=0,T=0,B=0;const v=o("div");v.style.cssText=r,v.textContent="QA Form",n(v,"mousedown",(e=>{w=!0,C=e.clientX-T,k=e.clientY-B,v.style.cursor="grabbing"})),n(document,"mousemove",(e=>{w&&(T=e.clientX-C,B=e.clientY-k,m.style.transform=`translate(${T}px,${B}px)`)})),n(document,"mouseup",(()=>{w=!1,v.style.cursor="grab"}));const E=o("div");E.style.cssText=d,e.forEach((e=>{const s=o("div");s.style.cssText=l;const i=o("button");i.style.cssText=a,i.innerHTML=`<span>${e.id}. ${e.label}</span><span style="font-size:12px">▼</span>`;let r=!1;const d=o("div");d.style.cssText=c;const g=o("button");g.textContent=e.reverseButtons?"No":"Yes",g.style.cssText=u;const f=o("button");f.textContent=e.reverseButtons?"Yes":"No",f.style.cssText=x;const y=o("div");y.style.cssText=p,y.appendChild(g),y.appendChild(f);const h=o("textarea");h.id=`qa-${e.id}`,h.style.cssText=b,h.placeholder="Enter text";const m=o=>{t[e.id].sel=o,g.style.cssText="yes"===o?u:x,f.style.cssText="no"===o?u:x};n(g,"click",(()=>m("yes"))),n(f,"click",(()=>m("no"))),n(h,"input",(o=>{t[e.id].text=o.target.value})),n(i,"click",(()=>{r=!r,d.style.display=r?"block":"none",i.style.background=r?"#e8e8e8":"#f5f5f5",i.innerHTML=`<span>${e.id}. ${e.label}</span><span style="font-size:12px">${r?"▲":"▼"}</span>`})),d.appendChild(y),d.appendChild(h),s.appendChild(i),s.appendChild(d),E.appendChild(s)}));const q=o("div");q.style.cssText=g;const $=o("button");$.textContent="Cancel",$.style.cssText=f,n($,"mouseenter",(()=>{$.style.background="#f5f5f5"})),n($,"mouseleave",(()=>{$.style.background="white"})),n($,"click",(()=>{h.remove()}));const z=o("button");z.textContent="Generate",z.style.cssText=y,n(z,"mouseenter",(()=>{z.style.background="#1d4ed8"})),n(z,"mouseleave",(()=>{z.style.background="#2563eb"})),n(z,"click",(async()=>{let o=0;const n=async()=>{if(o>=e.length)return alert("✓ Done!"),void h.remove();const s=e[o],i=t[s.id].sel,r=t[s.id].text,d=document.querySelector(`[data-idx="${s.id}"] [data-testid="SegmentedControl"]`);if(d){const e=d.querySelectorAll('button[role="radio"]');"yes"===i&&e[0]?e[0].click():"no"===i&&e[1]&&e[1].click()}await new Promise((e=>setTimeout(e,2500)));const l=document.querySelector(`[data-idx="${s.id}"] textarea`);if(l&&r){const e=Object.getPrototypeOf(l);Object.getOwnPropertyDescriptor(e,"value").set.call(l,r),l.dispatchEvent(new Event("input",{bubbles:!0})),l.dispatchEvent(new Event("change",{bubbles:!0}))}await new Promise((e=>setTimeout(e,500))),o++,n()};n()})),q.appendChild($),q.appendChild(z),m.appendChild(v),m.appendChild(E),m.appendChild(q),h.appendChild(m),document.body.appendChild(h)})();
